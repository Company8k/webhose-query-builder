<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: site/Builder.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: site/Builder.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Filter = require('./Filter');
const { arrayOrString, COMPARATOR } = require('../lib');
/** @const {Symbol}*/
const FILTER_KEY = Symbol('Filter')
/** Builder for {@link SiteFilter} */
class SiteFilterBuilder{
  constructor(){
    this[FILTER_KEY] = new Filter({});
  }
  /**
   * What type of sites to search in (the default is any). Available Types:
   * news
   * blogs
   * discussions
   * Only news: site_type:news
   * News &amp; Blogs: (site_type:news OR site_type:blogs)
   * @param {(String|Array)} t - formats type
   * @return {this}
   */
  type(t){
    let type = arrayOrString(t);
    console.log(this[FILTER_KEY].site_type, t, type);
    this[FILTER_KEY].site_type = this[FILTER_KEY].site_type === undefined ? type : this[FILTER_KEY].site_type.concat(type);
    return this;
  }
  /**
   * Formats specific site query
   * @param {(String|Array)} s - Limit the results to a specific site or sites
   * @return {SiteFilterBuilder} this
   */
  site(s){
    let site = arrayOrString(s);
    this[FILTER_KEY].site = this[FILTER_KEY].site === undefined ? site : this[FILTER_KEY].site.concat(site)
    return this
  }
  /**
   * Webhose.io uses heuristics to determine the country origin of a site, by taking into account the site's IP, TLD and language.
   * Many times the country origin isn't conclusive so it isn't set, therefor filtering by country may result in much less data than when filtering by language.
   * Return posts from sites from Hong Kong: thread.country:HK
   * To get the full country code list, visit countrycode.org.
   * @param {String}
   * @return {this}
   */
  country(c){ this[FILTER_KEY].thread.country = c; return this}
  /**
   * Limit the results to a specific site suffix
   * Return posts from sites where their top level domain (TLD) ends with .fr:
   * @param {String}
   * @return {this}
   */
  suffix(s){ this[FILTER_KEY].site_suffix = s; return this}
  /**
   * Filter sites based on the domain and optionally by their sub-domain
   * Return posts from Yahoo answers: site_full:answers.yahoo.com
   * @param {String}
   * @return {this}
   */
  full(f){ this[FILTER_KEY].site_full = f; return this}
  /**
   * Limit the results to posts originating from sites categorized as one (or more) of the following.
   * Return posts from sites categorized as sports or games related: (site_category:sports OR site_category:games)
   * @param {(String|Array)}
   * @return {this}
   */
  category(c){
    let cat = arrayOrString(c);
    this[FILTER_KEY].site_category = this[FILTER_KEY].site_category === undefined ? cat : this[FILTER_KEY].site_category.concat(cat);
    return this
  }
  /**
   * A rank that specifies how popular a domain is (by monthly traffic)
   * Search for posts from the top 1,000 sites: domain_rank:&lt;1000
   * @param {Number}
   * @param {@link COMPARATOR}
   * @return {this}
   */
  domainRank(d, comp=COMPARATOR.LT){ this[FILTER_KEY].domain_rank = `${comp}${d}`; return this}
  /**
   * @return {Filter}
   */
  build(){ return this[FILTER_KEY];}
}

module.exports = SiteFilterBuilder;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-filter.html">filter</a></li></ul><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li><li><a href="PostFilter.html">PostFilter</a></li><li><a href="PostFilterBuilder.html">PostFilterBuilder</a></li><li><a href="SiteFilter.html">SiteFilter</a></li><li><a href="SiteFilterBuilder.html">SiteFilterBuilder</a></li><li><a href="SocialFilter.html">SocialFilter</a></li><li><a href="SocialFilterBuilder.html">SocialFilterBuilder</a></li></ul><h3>Global</h3><ul><li><a href="global.html#COMPARATOR">COMPARATOR</a></li><li><a href="global.html#FILTER_KEY">FILTER_KEY</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Dec 19 2017 08:20:07 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
